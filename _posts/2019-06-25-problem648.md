---
title: 648. Replace Words (medium)                  
author: zhou      
tags: [HashTable,Trie]          
---

       

## Catalog  
+ [Question Description](#partI)
+ [My Thoughts](#partII)
+ [Code Exhibition](#partIII)

----------------------------------

## Question Description
Clear language for describing question.    
In English, we have a concept called root, which can be followed by some other words to form another longer word - let's call this word successor. For example, the root an, followed by other, which can form another word another.       
Now, given a dictionary consisting of many roots and a sentence. You need to replace all the successor in the sentence with the root forming it. If a successor has many roots can form it, replace it with the root with the shortest length.      
You need to output the sentence after the replacement.      

Example 1:     
Input: dict = ["cat", "bat", "rat"]    
sentence = "the cattle was rattled by the battery"     
Output: "the cat was rat by the bat"      

Note:      
The input will only have lower-case letters.     
1 <= dict words number <= 1000    
1 <= sentence words number <= 1000   
1 <= root length <= 100     
1 <= sentence words length <= 1000     



----------------------------------

## My Thoughts
My thoughts for solving question after thinking and checking others' solving methods.        
Initial idea is creating HashSet(actually I would like to build HashMap for word in sentence, but not work) for root word in roots list. Then create a StringBuilder to record anyword we converted or not. Convert string sentence to word array (use split("\\s+")), for every word, check for every substring(from one word to more words) with HashSet. Add right string inside SB, at the end, convert to String.   





----------------------------------

## Code Exhibition
Talk is cheap, show me the code.    
### Code in Java.     
HashSet<root>, SB and substring.    
Time Complexity: O(âˆ‘ (\sum) w_i^2) where w_i is the length of the i-th word. We might check every prefix, the i-th of which is O(w_i^2) work.        
Space Complexity: O(N) where N is the length of our sentence; the space used by rootset.     

    public String replaceWords(List<String> roots, String sentence) {
        //prepare for result
        String res = null;
        
        //check for extreme condition
        if(roots == null || sentence == null){
            return res;
        }
        
        //HashSet<String> for root
        HashSet<String> set = new HashSet<> ();
        for(String root : roots){
            set.add(root);
        }
        
        //SB for recording needed string
        StringBuilder SB = new StringBuilder();
        //check for substrings (from least to more) of every String in sentence.split(" ")
        String[] strArray = sentence.split("\\s+");
        for(String str : strArray){
            String sub = "";
            for(int i = 1; i <= str.length(); ++i ){
                sub = str.substring(0, i);
                if(set.contains(sub)){
                    break;
                }
            }
            
            if(SB.length() > 0){
                SB.append(" ");
            }
            
            SB.append(sub);
            
        }
        
        //convert SB to string
        res = SB.toString();
        
        return res;
        
    }



### Code in Python.   




